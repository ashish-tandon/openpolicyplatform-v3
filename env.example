# Open Policy Platform - Environment Configuration
# Copy this file to .env and configure your settings

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database URL (PostgreSQL)
DATABASE_URL=postgresql://postgres@localhost:5432/openpolicy

# Database connection settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=openpolicy
DB_USERNAME=postgres
DB_PASSWORD=

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API server settings
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=True

# CORS settings
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173
ALLOWED_HOSTS=localhost,127.0.0.1

# =============================================================================
# SECURITY
# =============================================================================

# JWT settings
SECRET_KEY=your-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL (for caching and sessions)
REDIS_URL=redis://localhost:6379

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# OpenAI API (for AI features)
OPENAI_API_KEY=your-openai-api-key-here

# =============================================================================
# SCRAPING CONFIGURATION
# =============================================================================

# Scraper settings
SCRAPER_TIMEOUT=30
MAX_CONCURRENT_SCRAPERS=5

# --- Scraper Service ---
SCRAPER_SERVICE_ENABLED=false
SCRAPERS_DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/openpolicy_scrapers
SCRAPER_CONCURRENCY=4
SCRAPER_RATE_LIMIT_PER_DOMAIN=10/min
SCRAPER_USER_AGENT="OpenPolicyBot/1.0 (+contact@your.org)"
SCRAPER_TIMEOUTS=20
SCRAPER_RETRIES=3
SCHEDULER_ENABLED=true
SCHEDULER_DEFAULT_SCOPE="*:*:daily"

# =============================================================================
# LOGGING
# =============================================================================

# Log level
LOG_LEVEL=INFO

# =============================================================================
# FILE UPLOAD
# =============================================================================

# File upload settings
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=uploads

# =============================================================================
# WEB APPLICATION
# =============================================================================

# Web app settings
VITE_API_URL=http://localhost:8000
VITE_ENVIRONMENT=development
VITE_ENABLE_ANALYTICS=false
VITE_ENABLE_DEBUG=true

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Set to False in production
DEBUG=False

# Production secret key (generate a secure one)
# SECRET_KEY=your-production-secret-key-here

# Production database (use environment variables)
# DATABASE_URL=postgresql://user:password@host:port/database

# Production allowed origins
# ALLOWED_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com
